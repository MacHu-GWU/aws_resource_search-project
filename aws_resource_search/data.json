{
    "cloudformation": {
        "_shared": {
            "*.url.service_id": "cloudformation"
        },
        "cloudformation-stack": {
            "req": {
                "method": "describe_stacks",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999
                    }
                },
                "is_paginator": true,
                "result_path": "$Stacks || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": "$_res.StackId"
                },
                "title": {
                    "type": "str",
                    "token": "$_res.StackName"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$_res.StackStatus"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.StackId",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.StackName",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_stack",
                "kwargs": {
                    "name_or_arn": "$raw_data._res.StackId"
                }
            }
        }
    },
    "dynamodb": {
        "_shared": {
            "*.url.service_id": "dynamodb"
        },
        "dynamodb-table": {
            "req": {
                "method": "list_tables",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$TableNames || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:dynamodb:{aws_region}:{aws_account_id}:table/{table}",
                            "params": {
                                "table": "$_res",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_ctx.AWS_ACCOUNT_ID"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res"
                },
                "subtitle": {
                    "type": "str",
                    "token": ""
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_table",
                "kwargs": {
                    "table_or_arn": "$raw_data._res"
                }
            }
        }
    },
    "ec2": {
        "_shared": {
            "*.url.service_id": "ec2"
        },
        "ec2-instance": {
            "req": {
                "method": "describe_instances",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Reservations[].Instances[] || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:ec2:{aws_region}:{aws_account_id}:instance/{instance_id}",
                            "params": {
                                "instance_id": "$_res.InstanceId",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_ctx.AWS_ACCOUNT_ID"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Tags[?Key=='Name'].Value | [0] || 'No instance name'"
                },
                "subtitle": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "{state_icon} {state} | {inst_id} | {inst_type}",
                            "params": {
                                "state": "$_res.State.Name",
                                "state_icon": {
                                    "type": "map",
                                    "kwargs": {
                                        "key": "$_res.State.Name",
                                        "mapper": {
                                            "pending": "\ud83d\udfe1",
                                            "running": "\ud83d\udfe2",
                                            "shutting-down": "\ud83d\udfe4",
                                            "terminated": "\u26ab",
                                            "stopping": "\ud83d\udfe0",
                                            "stopped": "\ud83d\udd34\ufe0f"
                                        }
                                    }
                                },
                                "inst_id": "$_res.InstanceId",
                                "inst_type": "$_res.InstanceType"
                            }
                        }
                    }
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.InstanceId",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "inst_id": {
                    "type": "Ngram",
                    "token": "$_res.InstanceId",
                    "kwargs": {
                        "stored": true
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Tags[?Key=='Name'].Value | [0] || 'No instance name'",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_instance",
                "kwargs": {
                    "instance_id_or_arn": "$raw_data._res.InstanceId"
                }
            }
        },
        "ec2-vpc": {
            "req": {
                "method": "describe_vpcs",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Vpcs || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:ec2:{aws_region}:{aws_account_id}:vpc/{vpc_id}",
                            "params": {
                                "vpc_id": "$_res.VpcId",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_ctx.AWS_ACCOUNT_ID"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Tags[?Key=='Name'].Value | [0] || 'No VPC name'"
                },
                "subtitle": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "{state_icon} {state} | is_default = {is_default}",
                            "params": {
                                "state": "$_res.State",
                                "state_icon": {
                                    "type": "map",
                                    "kwargs": {
                                        "key": "$_res.State",
                                        "mapper": {
                                            "pending": "\ud83d\udfe1",
                                            "available": "\ud83d\udfe2"
                                        }
                                    }
                                },
                                "vpc_id": "$_res.VpcId",
                                "is_default": "$_res.IsDefault"
                            }
                        }
                    }
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.VpcId",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "vpc_id": {
                    "type": "Ngram",
                    "token": "$_res.VpcId",
                    "kwargs": {
                        "stored": true
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Tags[?Key=='Name'].Value | [0] || 'No VPC name'",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "service_id": "vpc",
                "method": "get_vpc",
                "kwargs": {
                    "vpc_id": "$raw_data._res.VpcId"
                }
            }
        }
    },
    "glue": {
        "_shared": {
            "*.url.service_id": "glue"
        },
        "glue-crawler": {
            "req": {
                "method": "get_crawlers",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Crawlers || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:glue:{aws_region}:{aws_account_id}:crawler/{crawler}",
                            "params": {
                                "crawler": "$_res.Name",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_ctx.AWS_ACCOUNT_ID"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Name"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$_res.Description || 'No Description'"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_crawler",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "glue-database": {
            "req": {
                "method": "get_databases",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$DatabaseList || `[]`"
            },
            "out": {
                "catalog_id": {
                    "type": "str",
                    "token": "$_res.CatalogId"
                },
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:glue:{aws_region}:{aws_account_id}:database/{database}",
                            "params": {
                                "database": "$_res.Name",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_res.CatalogId"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Name"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$_res.Description || 'No Description'"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_database",
                "kwargs": {
                    "database_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "glue-job": {
            "req": {
                "method": "get_jobs",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Jobs || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:glue:{aws_region}:{aws_account_id}:job/{job}",
                            "params": {
                                "job": "$_res.Name",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_ctx.AWS_ACCOUNT_ID"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Name"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$_res.Description || 'No Description'"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_job",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "glue-table": {
            "req": {
                "method": "get_tables",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "cache_key": [
                    "$DatabaseName"
                ],
                "is_paginator": true,
                "result_path": "$TableList || `[]`"
            },
            "out": {
                "catalog_id": {
                    "type": "str",
                    "token": "$_res.CatalogId"
                },
                "arn": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "arn:aws:glue:{aws_region}:{aws_account_id}:table/{database}/{table}",
                            "params": {
                                "database": "$_res.DatabaseName",
                                "table": "$_res.Name",
                                "aws_region": "$_ctx.AWS_REGION",
                                "aws_account_id": "$_res.CatalogId"
                            }
                        }
                    }
                },
                "database_and_table": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "{database}.{table}",
                            "params": {
                                "database": "$_res.DatabaseName",
                                "table": "$_res.Name"
                            }
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": {
                        "type": "sub",
                        "kwargs": {
                            "template": "{database}.{table}",
                            "params": {
                                "database": "$_res.DatabaseName",
                                "table": "$_res.Name"
                            }
                        }
                    }
                },
                "subtitle": {
                    "type": "str",
                    "token": "$_res.Description || 'No Description'"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_out.database_and_table",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_out.database_and_table",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_table",
                "kwargs": {
                    "table_or_arn": "$raw_data._out.arn"
                }
            }
        }
    },
    "iam": {
        "_shared": {
            "*.url.service_id": "iam"
        },
        "iam-group": {
            "req": {
                "method": "list_groups",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Groups || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": "$_res.Arn"
                },
                "title": {
                    "type": "str",
                    "token": "$_res.GroupName"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$to_string(CreateDate)"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Arn",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.GroupName",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_user_group",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "iam-policy": {
            "req": {
                "method": "list_policies",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Policies || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": "$_res.Arn"
                },
                "title": {
                    "type": "str",
                    "token": "$_res.PolicyName"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$to_string(CreateDate)"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Arn",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.PolicyName",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_policy",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "iam-role": {
            "req": {
                "method": "list_roles",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Roles || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": "$_res.Arn"
                },
                "title": {
                    "type": "str",
                    "token": "$_res.RoleName"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$to_string(CreateDate)"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Arn",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.RoleName",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_role",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        },
        "iam-user": {
            "req": {
                "method": "list_users",
                "kwargs": {
                    "PaginationConfig": {
                        "MaxItems": 9999,
                        "PageSize": 1000
                    }
                },
                "is_paginator": true,
                "result_path": "$Users || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": "$_res.Arn"
                },
                "title": {
                    "type": "str",
                    "token": "$_res.UserName"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$to_string(CreateDate)"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Arn",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.UserName",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_user",
                "kwargs": {
                    "name_or_arn": "$raw_data._out.arn"
                }
            }
        }
    },
    "s3": {
        "_shared": {
            "*.url.service_id": "s3"
        },
        "s3-bucket": {
            "req": {
                "method": "list_buckets",
                "is_paginator": false,
                "result_path": "$Buckets || `[]`"
            },
            "out": {
                "arn": {
                    "type": "str",
                    "token": {
                        "template": "arn:aws:s3:::{bucket}",
                        "params": {
                            "bucket": "$_res.Name"
                        }
                    }
                },
                "title": {
                    "type": "str",
                    "token": "$_res.Name"
                },
                "subtitle": {
                    "type": "str",
                    "token": "$to_string(CreateDate)"
                }
            },
            "doc": {
                "id": {
                    "type": "Id",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true,
                        "field_boost": 10
                    }
                },
                "name": {
                    "type": "NgramWords",
                    "token": "$_res.Name",
                    "kwargs": {
                        "stored": true
                    }
                }
            },
            "url": {
                "method": "get_console_url",
                "kwargs": {
                    "bucket": "$raw_data._res.Name"
                }
            }
        }
    }
}